{"meta":{"title":"Hexo","subtitle":"","description":"","author":"John Doe","url":"http://example.com","root":"/"},"pages":[{"title":"categories","date":"2024-07-15T17:57:30.000Z","updated":"2024-07-15T17:58:37.308Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2024-07-15T17:59:00.000Z","updated":"2024-07-15T17:59:25.675Z","comments":true,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"结构体开销","slug":"结构体开销","date":"2024-07-28T14:37:49.000Z","updated":"2024-07-28T14:40:32.642Z","comments":true,"path":"2024/07/28/结构体开销/","permalink":"http://example.com/2024/07/28/%E7%BB%93%E6%9E%84%E4%BD%93%E5%BC%80%E9%94%80/","excerpt":"","text":"&lt;–more–&gt; 前言引言由于开发AT芯片进行脉冲计数时发现使用参数为结构体参数时会导致脉冲计数减少，查看汇编代码发现该编译器O0汇编代码访问结构体数据达到19个机器周期。使用O2优化时还是需要10个机器周期左右，因此对C函数调用、参数访问产生疑问。因此使用gcc、MinGW、MSVC三款编译器查看在x86平台上函数调用与结构体访问方式。 环境 VS2022 Microsoft Visual C++ 2022 VSCode 版本: 1.91.1 (user setup) gcc version 8.1.0 (x86_64-posix-seh-rev0, Built by MinGW-W64 project) VMware® Workstation 17 Pro gcc 11.4.0 vim 8.2.2121(Ubuntu) Ubuntu20.04 说明图片说明本文章图片采取图床方式，图片可能失效（失效请联系&#x32;&#x38;&#57;&#50;&#x39;&#54;&#x37;&#x34;&#x30;&#x36;&#x40;&#x71;&#113;&#x2e;&#x63;&#111;&#109;）或者访问Hexo (hongdei.github.io) x86汇编简易说明 指令 说明 示例（x86-64环境） lea 加载有效地址（Load Effective Address）。将操作数的有效地址（而非内存中的值）加载到目标寄存器中。 lea rax, [rbx + 8*rcx]：将rbx寄存器的值加上rcx寄存器值的8倍，结果地址加载到rax寄存器。 mov 数据传送。将源操作数的值传送到目标操作数。根据操作数大小，可以是movb（字节）、movw（字）、movl（双字）、movq（四字）等。 mov rax, 123：将立即数123移动到rax寄存器。mov dword ptr [rbx], eax：将eax寄存器的值移动到rbx指向的内存地址（32位）。 movq 在x86-64架构中，用于移动64位（四字）数据。 movq rax, rbx：将rbx寄存器的值移动到rax寄存器。 movw 在x86架构中，用于移动16位（字）数据。在x86-64中较少直接使用，但可通过适当的前缀或操作数大小指示器使用。 movw ax, bx（假设在16位或32位模式下）：将bx寄存器的低16位值移动到ax寄存器。 call 过程调用。将返回地址（紧随call指令后的指令地址）推送到栈上，并跳转到指定的函数或地址执行。 call myFunction：调用名为myFunction的函数。 nop 无操作（No Operation）。执行时什么也不做，常用于代码对齐、占位或调试目的。 nop：不执行任何操作。 主要参考文件vs下查看汇编代码_vs查看汇编代码-CSDN博客 结构体调用在gcc、MinGW、MSVC三款编译器中结构体访问、函数访问均是以地址形式访问。 MSVC编译器步骤 创建测试项目 设置断点 查看汇编代码 测试说明本次测试定义函数fun1，结构体mian_t，并在主函数main中调用fun1，MinGW与GCC编译器仅编译器不同，测试代码完全一致。 &#96;#include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; #include &lt;stdint.h&gt; typedef struct { uint16_t a; uint16_t b; uint16_t c; }main_t; static void fun1(const main_t *t) { uint16_t a &#x3D; t-&gt;a; uint16_t b &#x3D; t-&gt;b; uint16_t c &#x3D; t-&gt;c; } int main(int argc, char const *argv[]) { main_t x; x.a &#x3D; 1; x.b &#x3D; 2; x.c &#x3D; 3; fun1(&amp;x); printf(“%d %d %d\\n”,x.a,x.b,x.c); printf(“hello word\\n”); return 0; }&#96; 设置断点VS可以在调试界面中查看程序汇编代码。在函数调用中设置断点（可以查看整个工程汇编代码） 汇编代码在调试选项中选择窗口-&gt;反汇编。 函数调用函数调用主要是通过lea和call命令实现（直接访问函数地址）。 结构体访问结构体访问主要通过mov访问，通过lea传入结构体地址。 MinGW编译器MinGW使用VSCode编写，VScode使用MinGW编译器见xxx（文章还没写）。 步骤 创建测试项目 编译 查看汇编代码 测试项目见MSVC编译器-&gt;测试说明 编译使用不优化、汇编输出源信息。 gcc .\\main.c -S -fverbose-asm -O0 -o main1 汇编代码通过leaq和movq实现函数参数传递、call实现函数调用（直接访问函数地址）。 GCC编译器本人采用VM虚拟机运行Ubuntun系统。 步骤 创建测试项目 编译 查看汇编代码 测试项目见MSVC编译器-&gt;测试说明。 编译见MinGW编译器-&gt;编译。 汇编代码由于MinGW基于gcc编译器，因此在汇编代码上与MinGW基本一致。 结论在gcc、MinGW、MSVC三款编译器中结构体访问、函数访问均是以地址形式访问。","categories":[],"tags":[]},{"title":"VScode+MinGW开发","slug":"VScode-MinGW开发","date":"2024-07-18T13:12:16.000Z","updated":"2024-07-21T04:55:17.312Z","comments":true,"path":"2024/07/18/VScode-MinGW开发/","permalink":"http://example.com/2024/07/18/VScode-MinGW%E5%BC%80%E5%8F%91/","excerpt":"","text":"引言前言VSCode中各种插件是编程利器，gcc是Linux系统中一款伟大的开源编译器，minGW是将gcc移植到Windows中。本文将介绍如何安装minGW编译器并使用VsCode编写C&#x2F;C++测试代码。 环境MinGW-w64 - for 32 and 64 bit Windows vsCode1.91.1 Windows 10 专业版 主要参考安装MinGW-W64提示cannot download repository.txt-解决方法_安装mingw时cannot download respository.txt-CSDN博客 [安装MinGW-W64提示cannot download repository.txt-阿里云开发者社区 (aliyun.com)](https://developer.aliyun.com/article/82492 MinGW-w64 离线包安装方法 - 1O(∩_∩)O1 - 博客园 (cnblogs.com) 安装MinGW安装MinGW分为两种在线安装、离线安装，在线安装本人并未成功，仅给出方法。 在线安装 在官网下载界面选择MinGW在线安装包下载。 运行在线安装包（如果正常安装就可以next完成安装，如果出现文件缺少可以参考本文离线安装）。 离线安装 在官网下载离线安装包（离线安装包使用7z进行压缩，请保证解压器支持该方式）。 解压压缩包，配置环境变量后就可使用。 配置环境变量Windows环境变量可以让CMD识别某些命令，VScode使用minGW编译时是利用cmd运行minGW的编译器代码，如果不设置环境变量vscode执行minGW相关命令时将无法识别（详情见常见错误2-gcc命令无法识别）。环境变量配置分为用户变量与系统变量，可根据需要进行可选配置。（请保证VScode运行路径与环境变量配置一致，即使用用户权限启动vsCode时环境变量应该配置用户环境变量） 在Windows10的搜索栏中搜索”环境变量“并打开”编辑系统环境变量“。 在用户环境变量中创建名为”MINGW64“（自定），变量值为解压的minGW文件中的bin文件路径。 将MINGW64环境变量加入用户环境变量PATH中（可选） 在环境变量中选中用户变量中的Path变量，点击编辑 在编辑界面加入MINGW64变量 %MINGW64 将MINGW64环境变量加入系统环境变量PATH中（可选） 在环境变量中选中系统变量中的Path变量，点击编辑 在编辑界面加入MINGW64变量 %MINGW64 配置编译器vsCode默认使用msvc编译器，需要设置默认编译器为mingw64编译器。 设置编译器路径使用vsCode插件C&#x2F;C++插件的编辑器配置配置编译器路径。 Ctyl + shift + p 修改IntellSense模式vsCode默认采用msvc模式进行关键字提醒，需要修改为gcc模式。 测试测试主要分为cmd测试与测试代码，每个测试分为用户环境与系统环境。 cmd测试用户环境使用用户权限打开cmd（默认为用户权限）。 快捷键 win + r 在输入栏中输入cmd，点击回车 使用gcc -v查询gcc版本 搜索栏 在搜索栏输入CMD，选择“命令提示符” 在cmd使用gcc -v查询gcc版本 系统环境 搜索栏 在搜索栏输入CMD，选择“命令提示符” 右键鼠标，选择使用管理员打开（系统环境运行的CMD路径为C:\\Windows\\system32&gt;） 编译使用vsCode编写helloWord并使用mainGW编译器编译。用户环境与系统环境只是打开vscode运行模式不一致，系统测试请将vsCode使用”以管理员“打开。 新建源文件使用鼠标右键新建helloWord.c文件，并编写简单的helloWord打印程序。 编译源文件使用gcc编译helloWord.c文件 gcc helloWord.c 运行源文件gcc编译完成后文件名称默认为a.out ./a.out 常见错误问题1问题描述使用minGW在线安装可能会出现缺乏reposiory.txt文件 解决办法有的人采用使用管理员安装可以解决，但有部分也无法解决。可以采用离线安装。 参考文章安装MinGW-W64提示cannot download repository.txt-解决方法_安装mingw时cannot download respository.txt-CSDN博客 安装MinGW-W64提示cannot download repository.txt-阿里云开发者社区 (aliyun.com) 问题2问题描述VSCode使用minGW时显示无法找到编译器 解决办法设置环境变量，参考配置环境变量章节 参考文章【vscode】gcc : 无法将“gcc”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。-CSDN博客","categories":[],"tags":[]},{"title":"01点亮LED","slug":"01点亮LED","date":"2024-07-15T16:30:00.000Z","updated":"2024-07-15T16:30:54.341Z","comments":true,"path":"2024/07/16/01点亮LED/","permalink":"http://example.com/2024/07/16/01%E7%82%B9%E4%BA%AELED/","excerpt":"","text":"环境搭建概述无 开发环境Keil5安装如图 1.1 解压Keil5所示，解压“01点亮LED\\02开发软件”。 图 1.1 解压Keil5 使用管理员身份运行“01点亮LED\\02开发软件\\Keil uvision5 MDKv518(64bit)”中mdk518安装包。如图 1.2 运行Keil5安装程序所示。 图 1.2 运行Keil5安装程序 在安装界面选择下一步。如图 1.3 安装Keil5所示。 图 1.3 安装Keil5 选择同意安装许可证，点击下一步。如图 1.4 安装Keil5所示。 图 1.4 安装Keil5 选择安装路径（建议不安装在C盘），点击下一步。如图 1.5 安装Keil5所示。 图 1.5 安装Keil5 配置安装用户（随便填），点击下一步。如图 1.6 安装Keil5所示。 图 1.6 安装Keil5 等待安装完成后点击下一步，如图 1.7 安装Keil5所示。 图 1.7 安装Keil5 选择取消Show Release Notes，点击Finish，Keil5安装完成。如图 1.8 安装Keil5所示。 图 1.8 安装Keil5 使用管理员运行Keil5，如图 1.9 运行keil5所示。 图 1.9 运行keil5 点击File-&gt;License Management，如图 1.10 破解keil5所示。 图 1.10 破解keil5 使用管理员运行“01点亮LED\\02开发软件\\Keil uvision5 MDKv518(64bit)&#x2F;crack.exe”，如图 1.11 破解Keil5所示。 图 1.11 破解Keil5 复制License Management中的CID到crack中的CID，选择Target为ARM。如图 1.12 破解Keil5所示。 图 1.12 破解Keil5 点击Generate，如图 1.13 破解Keil5所示。 图 1.13 破解Keil5 复制生成的破解码到License Management中的New License ID Code中。点击Add LIC，如图 1.14 破解Keil5图 1.15 破解Keil5所示。 图 1.14 破解Keil5 图 1.15 破解Keil5 破解完成后Support Period中显示运行年月，如图 1.16 破解Keil5所示。 图 1.16 破解Keil5 MDK安装将“01点亮LED\\02开发软件&#x2F;Keil.STM32F1xx_DFP.1.0.5”复制到安装Keil5路径中，如图 1.17 安装MDK所示。 图 1.17 安装MDK 使用管理员运行Keil.STM32F1xx_DFP.1.0.5，如图 1.18 安装MDK所示，点击下一步。 图 1.18 安装MDK 安装完成后点击Finish，如图 1.19 安装MDK所示。 图 1.19 安装MDK 配置工程暂无。 测试环境 STM32F103C6T6 DAPLink 开发点亮LED概述通过点亮LED测试开发环境是否搭建成功。 硬件原理图LED原理图如图 2.1 LED硬件原理图所示。PC13输出高电平LED熄灭，PC13输出低电平LED点亮。 图 2.1 LED硬件原理图 程序流程图程序流程图如图 2.2 点亮LED流程图所示。 图 2.2 点亮LED流程图 关键代码int main(void) { led_init();&#x2F;&#x2F;初始化 while(1) { GPIO_WriteBit(GPIOC,GPIO_Pin_13,Bit_SET);&#x2F;&#x2F;输出高电平 delay_ms(1000);&#x2F;&#x2F;延时 GPIO_WriteBit(GPIOC,GPIO_Pin_13,Bit_RESET);&#x2F;&#x2F;输出低电平 delay_ms(1000); } } 下载DAP调试器下载如图 2.3 调试器选择所示，选择DAP调试器。 图 2.3 调试器选择 如图 2.4 识别DAP设备所示，点击Setting选项。如果Kiel5识别到DAP下载器会在SW Device中显示其ID号和驱动名称。 图 2.4 识别DAP设备 如图 2.5 配置DAP调试器所示，选择端口为SW，最高时钟为5MHz。 图 2.5 配置DAP调试器 如图 2.6 配置Flash Download所示，选择Flash Download配置为Low-density 16k。 图 2.6 配置Flash Download 如图 2.7 编译说明所示，1为编译当前文件；2为链接所有文件；3为编译且链接所有文件；4为调试器下载。配置完DAP调试器后，编译所有文件直到出现0error即可使用调试器下载。如图 2.8 编译完成所示。 图 2.7 编译说明 图 2.8 编译完成 如图 2.9 下载完成所示，调试器将程序下载到STM32F103芯片的Flash中，点击复位按键程序就会重main函数开始运行。 图 2.9 下载完成 如图 2.10 C6T6实物图所示，框选位置为复位按键。 图 2.10 C6T6实物图 测试复位后如图 2.11 实物演示所示。LED（黄）一秒闪烁一次。 图 2.11 实物演示","categories":[],"tags":[]},{"title":"建站说明","slug":"建站说明","date":"2024-07-11T14:37:59.000Z","updated":"2024-07-21T05:21:24.501Z","comments":true,"path":"2024/07/11/建站说明/","permalink":"http://example.com/2024/07/11/%E5%BB%BA%E7%AB%99%E8%AF%B4%E6%98%8E/","excerpt":"","text":"引言前言使用github pages + hexo搭建个人博客网站。 GitHub Pages 是通过 GitHub 托管和发布的公共网页，可以使用github账号免费创建“username.github.io”站点。详情查看“GitHub Pages 快速入门 - GitHub 文档” Hexo 是一个快速、简洁且高效的博客框架（随便找的），Hexo使用简单的命令就可以将本地文章部署到设定的网站中。详情查看“文档 | Hexo”。 定义无。 参考资料 GitHub Pages 快速入门 - GitHub 文档 文档 | Hexo GitHub Pages + Hexo搭建个人博客网站，史上最全教程_hexo博客-CSDN博客 Git 详细安装教程（详解 Git 安装过程的每一个步骤）_git安装-CSDN博客 注册Github账号详细教程【超详细篇 适合新手入门】_github注册-CSDN博客 Git的环境配置（GitHub的SSH密钥的配置超详细）_gitshezhi github 帐户设置 ssh 密钥并运行 ssh 代理-CSDN博客","categories":[],"tags":[]},{"title":"word模板制作说明","slug":"word模板制作","date":"2024-07-11T14:37:59.000Z","updated":"2024-07-24T14:53:07.552Z","comments":true,"path":"2024/07/11/word模板制作/","permalink":"http://example.com/2024/07/11/word%E6%A8%A1%E6%9D%BF%E5%88%B6%E4%BD%9C/","excerpt":"","text":"[toc] 前言引言word用于丰富的格式设置，使用模板功能可以使得只需要设置一次格式即可多次使用。利用word常用的格式可以利用我们写出更美观的文章。 环境word2019 主要参考Word中自己制作三线表样式，为论文撰写提高效率！_word中怎么设置三线表-CSDN博客 markDown图片转Base64编码工具说明-CSDN博客 说明资源本文章绑定一份毕业论文模板。 CSDN资源 5积分 毕业论文模板，包含基本样式资源-CSDN文库 百度网盘资源 无要求 链接：https://pan.baidu.com/s/1Pbq_CasIavq7cKonRzyzlw?pwd=s8eh 提取码：s8eh 格式说明本文章以一份xx学校xx年毕业论文格式为标准 要求 不使用回车调整文章格式 word安装略。请自行安装，本文设置均为基础设置，不同版本绝大部分配置是相同的。（可能低版本或高版本界面不同、界面更丰富或更简洁） word模板制作 多级标题设置 图表设置 正文设置 章节设置 样式表设置 多级标题设置多级标题为自动化章节、自动编号的前置条件。需要提前设置。 新建列表（可跳过） 新建多级列表 链接样式 由于多级列表是对多个列表编号完成，因此设置多级列表需要新建列表。（wrod提供的列表样式足可以完成绝大部分样式需求，无需要可跳过）。在段落列表点击编号-&gt;点击定义新编号格式。 在新编号格式中可以设置，编号样式、字体、编号格式、对齐方式。（由于本次参考模板不使用自建编号，不在进行详细介绍）。 在段落列表点击编号-&gt;点击定义新的多级列表。 设置所有级别-&gt;所有缩进设置为0（该缩进为标号位置设置） 设置标号缩进后如下图所示（所有级别缩进为0） 点击更多-&gt;链接样式-&gt;设置编号后字符（本参考采用默认标题样式、五级标题、编号后字符为空格） 图表设置使用多级编号图表可以更方便管理图表。 新建图、表样式 链接多级列表 引用-&gt;插入题注 在题注设置界面新建标签-&gt;图 编号-&gt;包含章节号 在题注设置界面新建标签-&gt;表 编号-&gt;包含章节号 正文设置正文详细格式见附录，点击样式下拉菜单，创建新样式。 点击创建样式。 设置样式名称为论文正文，点击修改。 样式基准选择无样式，中文字体选择宋体小四，对齐方式选择两端对齐。（无样式保证本样式独立不会受其它样式影响，两端对齐主要用于调整论文格式中中文与非中文的间距一致且在行末尾不会出现缺少字符）。 西方字体选择Times New Roman。 点击格式-&gt;段落 在缩进和间距中选择首行2字符， 行距选择1.5倍 在换行和分页勾选段中不分页。 在中文版式中勾选允许西文在单词中间换行。（该配置和两端对齐可以使每行字符数量一致） 点击格式选择快捷键 选择快捷键后按下按键即可进行快捷键配置、点击指定配置快捷键。 本文使用Ctrl+Shift+Z为论文正文样式。 章节设置本文仅展示标题1设置且不对标题字体、行距进行设置，选择标题1点击修改。 样式基准选择无样式，后续段落样式选择论文正文（该选项为标题回车后样式） 在格式-&gt;段落中换行和分页勾选段前分页（该选项相当于在标题前插入分页符，一般用于一级标题） 目录设置在引用界面点击目录选择自定义目录。 目录界面常规选择来自模板，显示级别设置为3。 点击修改，设置TOC1。（之前级别为3因此需要设置TOC1-TOC3，这里以TOC1设置为例）。 设置基准样式基准、字体格式等。 模板目录缩进为左缩进需要替换为首行缩进。 插入后并在目录末尾插入分节符，如下图所示。 页码设置双击页面底部进入页眉和页脚界面，取消链接到前一节（页眉页脚通过节进行连续设置，如果希望出现多种页眉页脚需要使用分节符进行分割且取消链接到前一节） 选择页码-&gt;页面底端-&gt;数字2（该设置为页码在页面底端居中） 设置完成后如下图所示。 页眉设置页眉设置如页码设置。（双击页面头部进入页眉界面）。 三线表设置点击插入-&gt;表格,创建任意表格。选中表格，点击表设计。 打开表格下拉菜单。 点击新见表格样式。 创建三线表，选中整个表格，设置1.5磅上下框线、宋体5号 选中标题行,点击格式-&gt;边框与底纹。 选中1磅设置下框线，点击1.5榜设置上框线。 点击表格、选中三线表样式。 word模板使用配置模板点击文件-&gt;选项 点击保存-&gt;默认个人模板位置。将模板文件（word文件）放在模板位置即可。 打开word。 选择更多模板 设置快捷方式windows提供快捷键打开桌面快捷方式。（只能在桌面的快捷方式可以设置快捷键）。右键点击word快捷方式，选择属性，点击快捷方式，即可设置快捷方式。设置完成后即可用快捷方式打开word。 常见问题无。 附录 Ctrl + 1 标题1 Ctrl + 2 标题2 Ctrl + 3 标题3 Ctrl + 4 标题4 Ctrl + 5 标题5 Ctrl + Shift + Z 论文正文 Ctrl + Shift + J 无序号一级标题 Ctrl + Shift + K 关键字 Ctrl + Shift + T 题注","categories":[],"tags":[]}],"categories":[],"tags":[]}