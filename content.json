{"meta":{"title":"Hexo","subtitle":"","description":"","author":"John Doe","url":"http://example.com","root":"/"},"pages":[{"title":"tags","date":"2024-07-15T17:59:00.000Z","updated":"2024-07-15T17:59:25.675Z","comments":true,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""},{"title":"categories","date":"2024-07-15T17:57:30.000Z","updated":"2024-07-15T17:58:37.308Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"01点亮LED","slug":"01点亮LED","date":"2024-07-15T16:30:00.000Z","updated":"2024-07-15T16:30:54.341Z","comments":true,"path":"2024/07/16/01点亮LED/","permalink":"http://example.com/2024/07/16/01%E7%82%B9%E4%BA%AELED/","excerpt":"","text":"环境搭建概述无 开发环境Keil5安装如图 1.1 解压Keil5所示，解压“01点亮LED\\02开发软件”。 图 1.1 解压Keil5 使用管理员身份运行“01点亮LED\\02开发软件\\Keil uvision5 MDKv518(64bit)”中mdk518安装包。如图 1.2 运行Keil5安装程序所示。 图 1.2 运行Keil5安装程序 在安装界面选择下一步。如图 1.3 安装Keil5所示。 图 1.3 安装Keil5 选择同意安装许可证，点击下一步。如图 1.4 安装Keil5所示。 图 1.4 安装Keil5 选择安装路径（建议不安装在C盘），点击下一步。如图 1.5 安装Keil5所示。 图 1.5 安装Keil5 配置安装用户（随便填），点击下一步。如图 1.6 安装Keil5所示。 图 1.6 安装Keil5 等待安装完成后点击下一步，如图 1.7 安装Keil5所示。 图 1.7 安装Keil5 选择取消Show Release Notes，点击Finish，Keil5安装完成。如图 1.8 安装Keil5所示。 图 1.8 安装Keil5 使用管理员运行Keil5，如图 1.9 运行keil5所示。 图 1.9 运行keil5 点击File-&gt;License Management，如图 1.10 破解keil5所示。 图 1.10 破解keil5 使用管理员运行“01点亮LED\\02开发软件\\Keil uvision5 MDKv518(64bit)&#x2F;crack.exe”，如图 1.11 破解Keil5所示。 图 1.11 破解Keil5 复制License Management中的CID到crack中的CID，选择Target为ARM。如图 1.12 破解Keil5所示。 图 1.12 破解Keil5 点击Generate，如图 1.13 破解Keil5所示。 图 1.13 破解Keil5 复制生成的破解码到License Management中的New License ID Code中。点击Add LIC，如图 1.14 破解Keil5图 1.15 破解Keil5所示。 图 1.14 破解Keil5 图 1.15 破解Keil5 破解完成后Support Period中显示运行年月，如图 1.16 破解Keil5所示。 图 1.16 破解Keil5 MDK安装将“01点亮LED\\02开发软件&#x2F;Keil.STM32F1xx_DFP.1.0.5”复制到安装Keil5路径中，如图 1.17 安装MDK所示。 图 1.17 安装MDK 使用管理员运行Keil.STM32F1xx_DFP.1.0.5，如图 1.18 安装MDK所示，点击下一步。 图 1.18 安装MDK 安装完成后点击Finish，如图 1.19 安装MDK所示。 图 1.19 安装MDK 配置工程暂无。 测试环境 STM32F103C6T6 DAPLink 开发点亮LED概述通过点亮LED测试开发环境是否搭建成功。 硬件原理图LED原理图如图 2.1 LED硬件原理图所示。PC13输出高电平LED熄灭，PC13输出低电平LED点亮。 图 2.1 LED硬件原理图 程序流程图程序流程图如图 2.2 点亮LED流程图所示。 图 2.2 点亮LED流程图 关键代码int main(void) { led_init();&#x2F;&#x2F;初始化 while(1) { GPIO_WriteBit(GPIOC,GPIO_Pin_13,Bit_SET);&#x2F;&#x2F;输出高电平 delay_ms(1000);&#x2F;&#x2F;延时 GPIO_WriteBit(GPIOC,GPIO_Pin_13,Bit_RESET);&#x2F;&#x2F;输出低电平 delay_ms(1000); } } 下载DAP调试器下载如图 2.3 调试器选择所示，选择DAP调试器。 图 2.3 调试器选择 如图 2.4 识别DAP设备所示，点击Setting选项。如果Kiel5识别到DAP下载器会在SW Device中显示其ID号和驱动名称。 图 2.4 识别DAP设备 如图 2.5 配置DAP调试器所示，选择端口为SW，最高时钟为5MHz。 图 2.5 配置DAP调试器 如图 2.6 配置Flash Download所示，选择Flash Download配置为Low-density 16k。 图 2.6 配置Flash Download 如图 2.7 编译说明所示，1为编译当前文件；2为链接所有文件；3为编译且链接所有文件；4为调试器下载。配置完DAP调试器后，编译所有文件直到出现0error即可使用调试器下载。如图 2.8 编译完成所示。 图 2.7 编译说明 图 2.8 编译完成 如图 2.9 下载完成所示，调试器将程序下载到STM32F103芯片的Flash中，点击复位按键程序就会重main函数开始运行。 图 2.9 下载完成 如图 2.10 C6T6实物图所示，框选位置为复位按键。 图 2.10 C6T6实物图 测试复位后如图 2.11 实物演示所示。LED（黄）一秒闪烁一次。 图 2.11 实物演示","categories":[],"tags":[]}],"categories":[],"tags":[]}